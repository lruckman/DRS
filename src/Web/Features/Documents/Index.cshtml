@using Newtonsoft.Json
@using Web.Engine
@inject ISelectListProvider SelectListProvider
@inject IUserContext UserAccessor
@{ 
    var libraries = await SelectListProvider.GetLibraries(UserAccessor.UserId);
}
<div id="my-spa" asp-prerender-module="ClientApp/dist/boot-server"
                 asp-prerender-data="new {
                    searchUrl=@Url.Action("get", "search"),
                    addDocumentUrl=@Url.Action("get", "documents"),
                    libraries=libraries
                 }">Loading...</div>

@section scripts {
<script src="~/dist/vendor.bundle.js" asp-append-version="true"></script>
<script src="~/dist/main.js" asp-append-version="true"></script>
    @*<script>
        var SearchBox = React.createFactory(require('SearchBox'));
        ReactDOM.render(
            SearchBox({
                searchUrl: "/api/search",
                addDocumentUrl: "/api/documents",
                libraries: @Html.Raw(JsonConvert.SerializeObject(await SelectListProvider.GetLibraries(UserAccessor.UserId)))
            }),
            document.getElementById('content')
        );
    </script>*@
}