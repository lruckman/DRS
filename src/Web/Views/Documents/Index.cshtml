@using System.Threading.Tasks
@using Newtonsoft.Json
@using Web.Engine
@inject ISelectListProvider SelectListProvider

<div id="content"></div>

@section scripts {
    <script>
        var SearchBox = React.createFactory(require('SearchBox'));
        ReactDOM.render(
            SearchBox({
                searchUrl: "/api/search",
                addDocumentUrl: "/api/documents",
                libraries: @Html.Raw(JsonConvert.SerializeObject(await SelectListProvider.GetLibraries()))
            }),
            document.getElementById('content')
        );
    </script>
}